<html>
<head>
<title>How Monthly Android Security Patch Updates Work</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>每月Android安全补丁更新如何工作</h1>
<blockquote>原文：<a href="https://www.xda-developers.com/android-factory-reset-security-flaw-and-more-xda-tv/#0001-01-01">https://www.xda-developers.com/android-factory-reset-security-flaw-and-more-xda-tv/#0001-01-01</a></blockquote><div><div class="content-block-regular">
<p/><p>自2015年8月以来，谷歌一直在发布每月安全公告。这些安全公告包含已修复的已披露安全漏洞列表，这些漏洞会影响Android框架、Linux内核和其他闭源供应商组件。公告中的每个漏洞要么是谷歌发现的，要么是<a href="https://g.co/AndroidSecurityReport">向公司</a>披露的。列出的每个漏洞都有一个通用漏洞和披露(CVE)编号，以及相关参考、漏洞类型、严重性评估和受影响的AOSP版本(如果适用)。尽管Android安全补丁的工作过程看似简单，但实际上在幕后有一个有点复杂的来回过程，允许你的手机每月或(希望)几乎每月获得补丁。</p>

 
<h2 id="what-actually-makes-a-security-patch">究竟是什么构成了安全补丁？</h2>
<p>你可能已经注意到，每个月，实际上都有<em>两个</em>安全补丁级别。这些修补程序的格式是YYYY-MM-01或YYYY-MM-05。虽然YYYY和MM显然分别代表年和月，但是“01”和“05”实际上并不表示发布该安全补丁级别的日期。相反，01和05实际上是每月同一天发布的两个不同的安全补丁级别——以01结尾的补丁级别包含对Android框架的修复，但<strong>没有</strong>供应商补丁或上游Linux内核补丁。正如我们上面定义的，厂商补丁指的是对封闭源代码组件的修复，如Wi-Fi和蓝牙的驱动程序。由-05表示的安全修补程序级别包含这些供应商修补程序以及Linux内核中的修补程序。<strong> </strong>看看下表，或许有助于理解。</p>

<div class="table-container"><table border="1" cellpadding="1" cellspacing="1"><thead><tr><th><p>每月安全补丁级别</p> </th><th><p>2019-04-01</p> </th><th><p>2019-04-05</p> </th> </tr></thead><tbody><tr><td><p>包含四月框架补丁</p> </td><td><p>是</p> </td><td><p>是</p> </td> </tr><tr><td><p>包含4月供应商+内核补丁</p> </td><td><p>不</p> </td><td><p>是</p> </td> </tr><tr><td><p>包含March框架补丁</p> </td><td><p>是</p> </td><td><p>是</p> </td> </tr><tr><td><p>包含三月供应商+内核补丁</p> </td><td><p>是</p> </td><td><p>是</p> </td> </tr></tbody> </table> </div>
<p>当然，一些原始设备制造商也可能选择将他们自己的补丁和更新加入安全更新中。大多数原始设备制造商对Android都有自己的看法，因此，举例来说，你可能在三星手机上有一个华为手机上不存在的漏洞，这才有意义。许多原始设备制造商也发布他们自己的安全公告。</p>


<p class="ad-odd"> </p>


<h2 id="the-timeline-of-a-security-patch-from-google-to-your-phone">从谷歌到你手机的安全补丁的时间表</h2>
<p>安全补丁有一个大约30天的时间表，尽管不是每个OEM都能利用这个时间表的全部长度。让我们来看看【2019年5月的安全补丁例如，我们可以分解这个补丁创建背后的整个时间表。像<a href="https://www.xda-developers.com/essential-shut-down-no-more-updates/"> Essential </a>这样的公司设法在谷歌Pixel发布的同一天发布他们的安全更新<strong>，那么他们是怎么做到的呢？简单明了的答案是，他们是一个<a href="https://www.android.com/certified/partners/"> <strong>安卓伙伴</strong> </a>。2019年5月的安全公告<a href="https://www.xda-developers.com/may-2019-google-android-security-updates/">于5月6日</a>发布，谷歌像素和基本手机都获得了近乎即时的更新。</strong></p>

<h3 id="what-it-means-to-be-an-android-partner">成为Android合作伙伴意味着什么</h3>
<p>不是任何公司都可以成为Android的合作伙伴，尽管不可否认的是，基本上每个主要的Android OEM都是。Android合作伙伴是被授权在营销材料中使用Android品牌的公司。他们还被允许提供谷歌移动服务(GMS——指几乎所有的谷歌服务),只要他们满足兼容性定义文件(CDD)中概述的要求，并通过兼容性测试套件(CTS)、供应商测试套件(VTS)、谷歌测试套件(GTS)和其他一些测试。对于不是安卓合作伙伴的公司来说，安全补丁程序有明显的不同。</p>

<ul> <li>在安全公告发布前1-2天，Android框架补丁在被合并到AOSP后对他们可用。</li> <li>上游的Linux内核补丁一旦可用，就可以进行精选。</li> <li>根据与SoC供应商的协议，可以从SoC供应商处获得闭源组件的修复程序。请注意，如果供应商允许OEM访问闭源组件的源代码，那么OEM可以自己解决问题。如果OEM无法访问源代码，那么他们必须等待供应商发布修复程序。</li> </ul>

<p>如果你是一个Android的合作伙伴，你马上就会轻松很多。在公告公开前至少30天，Android合作伙伴会收到所有Android框架问题和Linux内核问题的通知。Google为OEM提供所有问题的补丁来合并和测试，尽管供应商组件补丁依赖于供应商。例如，2019年5月安全公告中披露的Android框架问题的补丁至少早在2019年3月20日*就已提供给Android合作伙伴。那是很多额外的时间。</p>

<p>*注意:Google可以，也经常，更新最新安全公告的补丁，直到公开发布。如果发现了新的漏洞和错误，如果Google由于破坏了关键组件而决定从每月公告中删除某些补丁，如果Google更新补丁以解决以前版本的补丁造成的错误，以及其他原因，这些更新都可能发生。</p>

<h3 id="why-do-i-need-to-wait-so-long-to-receive-a-security-patch-on-my-phone">为什么我需要等很久才能在手机上收到安全补丁？</h3>
<p>虽然Android合作伙伴(即所有主要OEM厂商)确实在发布之前就收到了安全补丁，但许多人痛苦地意识到，他们可能在发布后的几个月内都不会收到安全更新。这通常归结为四个原因之一。</p>

<ul> <li>原始设备制造商可能需要进行重大的技术修改，以适应安全补丁，因为它可能与现有的代码冲突。</li> <li>供应商在为闭源组件提供更新源代码方面动作缓慢。</li> <li>运营商认证可能需要一些时间。</li> <li>公司可能不愿意在发布安全更新的同时不发布某个功能。</li> </ul>

<p>虽然所有这些都是企业不发布安全补丁的正当理由，但最终用户并不总是关心这些。诚然，最终用户也不总是关心安全补丁，尽管他们应该关心。像Project Treble、<a href="https://www.xda-developers.com/linux-kernel-long-term-support-google/"> extended Linux LTS </a>和<a href="https://www.xda-developers.com/android-q-project-mainline-security/">项目主线</a>这样的计划有助于消除合并这些安全补丁的技术困难，但这还不足以让原始设备制造商坚持不懈地努力发布更新。有了通用内核映像或GKI，SoC供应商和原始设备制造商将更容易合并上游Linux内核补丁，尽管我们可能要到明年才能看到第一批带有GKI的设备。</p>

<p>但是大多数人不知道的一个有趣的信息是，主要的原始设备制造商必须在设备发布后的一年内提供“至少四次安全更新”,总共两年的更新。谷歌尚未证实这些具体条款，但该公司证实，他们“致力于将安全补丁纳入(他们的)OEM协议”。至于Android企业推荐(AER)设备，要求设备在3年内发布90天内获得安全更新。坚固的AER设备需要获得<a href="https://www.xda-developers.com/rugged-devices-android-enterprise-recommended-5-years-security-updates/"> <strong> 5年</strong> </a> <a href="https://www.xda-developers.com/rugged-devices-android-enterprise-recommended-5-years-security-updates/">的安全更新</a>。Android One设备应该在3年内每月进行安全更新。</p>
<p class="ad-even"> </p>


<h2 id="what-s-in-a-security-patch">安全补丁里有什么？</h2>
<p>安全补丁只是另一种更新，虽然通常是对单个框架和系统模块的更改，而不是系统范围的改进或更改。每个月，谷歌都会向设备原始设备制造商提供一个zip文件，其中包含目前仍受支持的所有主要Android版本的补丁，以及一个安全测试套件。这个测试套件帮助OEM抓住安全补丁中的漏洞，<a href="https://www.xda-developers.com/android-oem-lying-security-patches/">以确保他们不会遗漏任何东西</a>并且补丁被适当地合并。随着这个月的推移，谷歌可能会做出一些小的修改，比如决定某个特定的补丁是可选的，特别是在实现它有困难的时候。</p>
<p class="ad-odd"> </p>


<h2 id="what-about-custom-roms">定制rom呢？</h2>
<p>如果你的智能手机没有得到很多安全更新，这并不一定意味着你最好换成定制的ROM。虽然您将获得通过其他方式无法获得的安全更新，但这只是故事的一半。解锁您的引导加载程序会使您的设备容易受到物理攻击，即使在软件方面，安全性得到了加强。这并不是说你不应该使用定制的rom，只是在使用它们的时候，如果你的引导程序被锁定，还有其他的问题不适用。如果你更担心软件方面的事情，那么你最好还是用一个定制的ROM，它可以经常得到安全补丁。</p>

<p>但是还记得我们说过YYYY-MM-01和YYYY-MM-05补丁的区别吗？-05补丁级别包含Linux内核补丁和供应商补丁——应用于闭源软件的补丁。这意味着定制ROM开发者受到他们开发的任何OEM的支配，以及OEM是否发布更新的blobs。这对于仍然由制造商更新的设备来说没问题，但对于没有更新的设备来说，应用的补丁只能应用于Android框架和Linux内核。这就是为什么linegeos '<a href="https://www.xda-developers.com/lineageos-trust-centralized-interface-security-privacy/">Trust Interface</a>显示两个安全补丁级别——一个是平台，另一个是厂商。尽管为不受支持的设备定制的ROM不能完全集成所有最新的补丁，但它们将比旧的、过时的ROM更安全。</p>

 </div>


</div>    
</body>
</html>